# 1장. 소프트웨어 변경하기

엉망진창인 코드를 유지보수하는 방법을 찾으려면 먼저 변경의 본질에 대해 알아야 한다.

## 소프트웨어를 변경하는 네 가지 이유

1. 기능 추가
2. 버그 수정
3. 설계 개선
4. 최적화

### 기능 추가와 버그 수정

어떤 변경이 버그 수정이냐 기능 추가냐 하는 것은 관점에 따라 다르다. 중요한 것은 행위(behavior)의 변경이다. 새로운 행위를 추가하는 것과 기존 행위를 변경하는 것 사이에는 큰 차이가 있다.

그러나 실제로 기존 행위를 어느 정도 변경하지 않고 새로운 행위를 추가하는 것은 불가능하다.

### 설계 개선

리팩토링 - 테스트로 뒷받침되는 일련의 작은 구조적인 수정을 통해 코드를 유지보수하기 쉽게 만들어 간다.

### 최적화

동작은 그대로 유지한다는 점에서는 리팩토링과 비슷하지만, 프로그램 구조를 변경하는 대신 성능(resource usage)을 변경한다.

### 종합

네 가지 유형의 소프트웨어 변경 모두 기능 및 행위의 일부를 변화시키되 그 외의 나머지 기능 및 행위는 보존한다는 목표를 가지고 있다. 하지만 나머지 부분이 바뀌지 않는다는 것을 알기란 쉽지 않다. 어떤 변경의 여파가 어디까지인지 판단하기가 어렵기 때문이다.

## 변경의 위험성

변경의 위험을 줄이기 위해 다음 세 가지 질문을 던져야 한다:

1. 어떤 변경을 가해야 하는가?
2. 그 일을 잘 했다는 것을 어떻게 알 수 있나?
3. 아무 것도 망가뜨리지 않았다는 것을 어떻게 알 수 있나?

최대한 소프트웨어를 변경하지 않음으로써 위험을 회피하려 하면 다음과 같은 문제가 발생하게 된다.

- 새로운 클래스나 메써드를 만들지 않다보면 기존의 것이 점점 거대해지고 이해하기 어려워진다.
    - (구조가) 나쁜 시스템은 내용을 파악하고 변경을 가하려는 이에게 자신감은 커녕 호랑이를 피하려고 절벽에서 뛰어내리는 듯한 느낌을 갖게 만든다.
- 실력이 녹슬고 변경을 가하기가 점점 더 어려워진다.
- 변경에 대한 두려움이 나날이 커진다.

변경을 회피하는 것은 나쁘지만 그럼 그 반대는 무엇일까? 더 많은 인원을 투입하여 좀 더 신중하게 변경하는 것인가?
